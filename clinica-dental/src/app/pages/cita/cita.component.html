<p-splitter [panelSizes]="[70, 70]" styleClass="m-5" [style]="{ height: '72vh' }">
  <ng-template pTemplate>
    <div class="table_container">
      <!-- <app-table 
          [filas]="citas" 
          [columnas]="cols" 
          [tableStyle]="{ height : '100%' }"
          [paginator]="true"
          [rows]="7">
        </app-table> -->
      <app-calendario></app-calendario>
    </div>


  </ng-template>
  <ng-template pTemplate>
    <div class="form_container">
      <div class="head_form">
        <h3>Agendar una nueva cita</h3>
      </div>
      <div class="form_container">
        <form>
          <div class="formgrid grid m-4">
            <div class="field col">
                <label for="firstname2">Firstname</label>
                <input id="firstname2" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
            </div>
            <div class="field col">
                <label for="lastname2">Lastname</label>
                <input id="lastname2" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
            </div>
        </div>
          <span class="p-float-label">
            <input pInputText id="username" [(ngModel)]="value" />
            <label htmlFor="username">Username</label>
            <h1>{{ value }}</h1>
          </span>
        </form>
      </div>
    </div>
  </ng-template>
</p-splitter>

<p-table [value]="citas" [selection]="selectedCita" (onRowSelect)="onSelectCita($event.data)">
  <ng-template pTemplate="header">
    <tr>
      <th>Rol</th>
      <th>Nombre del paciente</th>
      <th>Apellidos</th>
      <th>Telefono</th>
      <th>Email</th>
      <th>Notas</th>
      <th>Opciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-cita>
    <tr>
      <td>{{ cita.rol_consulta }}</td>
      <td>{{ cita.Paciente.nombre }}</td>
      <td>{{ cita.Paciente.primerApellido + " " + cita.Paciente.segundoApellido}}</td>
      <td>{{ cita.Paciente.telefono}}</td>
      <td>{{ cita.Paciente.email}}</td>
      <td>{{ cita.Paciente?.notas}}</td>
      <td>
        <button pButton type="button" icon="pi pi-pencil" (click)="onSelectCita(cita)"></button>
        <button pButton type="button" icon="pi pi-trash" (click)="onDeleteCita(cita.id)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="Detalles de Cita" [(visible)]="visible" [modal]="true" [responsive]="true">
  <div *ngIf="selectedCita">
  </div>
</p-dialog>